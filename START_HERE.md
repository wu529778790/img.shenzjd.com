# ğŸš€ å¿«é€Ÿå¼€å§‹

æ¬¢è¿ä½¿ç”¨ Nuxt 4 å›¾åºŠåº”ç”¨ï¼è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€å¯è¿è¡Œçš„ GitHub OAuth å›¾åºŠç³»ç»Ÿã€‚

## ğŸ“¦ å½“å‰çŠ¶æ€

âœ… **å·²å®ç°åŠŸèƒ½ (80%)**
- GitHub OAuth ç™»å½•ç³»ç»Ÿ
- ä»“åº“é…ç½®ä¸ç®¡ç†
- å›¾ç‰‡ä¸Šä¼  (å•å›¾/æ‰¹é‡)
- æ–‡ä»¶ç®¡ç† (æŸ¥çœ‹/åˆ é™¤/é‡å‘½å)
- è®¾ç½®é¡µé¢ (ä¸»é¢˜/è¯­è¨€/é…ç½®)
- å·¥å…·ç®± (5 ä¸ªå®ç”¨å·¥å…·)
- å¤šè¯­è¨€æ”¯æŒ (ç®€ä¸­/ç¹ä¸­/è‹±æ–‡)
- æ·±è‰²æ¨¡å¼

â³ **å¾…å®Œæˆ (20%)**
- å•å…ƒæµ‹è¯•
- E2E æµ‹è¯•
- Docker éƒ¨ç½²é…ç½®
- CI/CD æµç¨‹

## âš¡ 3 æ­¥å¯åŠ¨

### 1. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶:

```env
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
JWT_SECRET=your_jwt_secret_key
```

**å¦‚ä½•è·å– GitHub å‡­è¯:**
1. è®¿é—® https://github.com/settings/developers
2. ç‚¹å‡» "New OAuth App"
3. å¡«å†™:
   - Application name: `Image Hosting`
   - Homepage URL: `http://localhost:3000`
   - Authorization callback URL: `http://localhost:3000/api/auth/callback`
4. å¤åˆ¶ Client ID å’Œç”Ÿæˆ Client Secret

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—®: http://localhost:3000

### 3. æµ‹è¯•åŠŸèƒ½

1. **ç™»å½•**: ç‚¹å‡» "ä½¿ç”¨ GitHub ç™»å½•"
2. **é…ç½®**: åœ¨è®¾ç½®é¡µé¢é…ç½®ä»“åº“ä¿¡æ¯
3. **ä¸Šä¼ **: æ‹–æ‹½å›¾ç‰‡ä¸Šä¼ 
4. **ç®¡ç†**: æŸ¥çœ‹å’Œç®¡ç†æ–‡ä»¶

## ğŸ“ é¡¹ç›®ç»“æ„

```
img.shenzjd.com/
â”œâ”€â”€ pages/              # 7 ä¸ªé¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ index.vue      # é¦–é¡µ
â”‚   â”œâ”€â”€ login.vue      # ç™»å½•
â”‚   â”œâ”€â”€ config.vue     # é…ç½®
â”‚   â”œâ”€â”€ upload.vue     # ä¸Šä¼ 
â”‚   â”œâ”€â”€ manage.vue     # ç®¡ç†
â”‚   â”œâ”€â”€ settings.vue   # è®¾ç½®
â”‚   â””â”€â”€ tools.vue      # å·¥å…·ç®±
â”‚
â”œâ”€â”€ server/api/        # 16 ä¸ª API ç«¯ç‚¹
â”‚   â”œâ”€â”€ auth/          # è®¤è¯ç›¸å…³
â”‚   â”œâ”€â”€ repo/          # ä»“åº“æ“ä½œ
â”‚   â”œâ”€â”€ upload/        # ä¸Šä¼ åŠŸèƒ½
â”‚   â”œâ”€â”€ management/    # æ–‡ä»¶ç®¡ç†
â”‚   â””â”€â”€ user/          # ç”¨æˆ·é…ç½®
â”‚
â”œâ”€â”€ stores/            # 5 ä¸ª Pinia å•†åº—
â”‚   â”œâ”€â”€ auth.ts        # è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ config.ts      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ upload.ts      # ä¸Šä¼ çŠ¶æ€
â”‚   â”œâ”€â”€ management.ts  # æ–‡ä»¶ç®¡ç†
â”‚   â””â”€â”€ toast.ts       # é€šçŸ¥ç³»ç»Ÿ
â”‚
â”œâ”€â”€ locales/           # 3 ç§è¯­è¨€
â”‚   â”œâ”€â”€ zh-CN.json    # ç®€ä½“ä¸­æ–‡
â”‚   â”œâ”€â”€ zh-TW.json    # ç¹ä½“ä¸­æ–‡
â”‚   â””â”€â”€ en.json       # è‹±æ–‡
â”‚
â””â”€â”€ server/utils/      # å·¥å…·å‡½æ•°
    â”œâ”€â”€ github.ts      # GitHub API å°è£…
    â””â”€â”€ jwt.ts         # JWT å¤„ç†
```

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `pnpm dev` | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ |
| `pnpm build` | ç”Ÿäº§æ„å»º |
| `pnpm preview` | é¢„è§ˆæ„å»ºç»“æœ |
| `pnpm generate` | é™æ€ç«™ç‚¹ç”Ÿæˆ |
| `pnpm typecheck` | TypeScript ç±»å‹æ£€æŸ¥ |

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¼”ç¤º

### GitHub OAuth ç™»å½•
```
ç”¨æˆ· â†’ ç‚¹å‡»ç™»å½• â†’ GitHub æˆæƒ â†’ JWT ä»¤ç‰Œ â†’ ä¼šè¯å»ºç«‹
```

### æ•°æ®å­˜å‚¨æµç¨‹
```
ç”¨æˆ·ä¸Šä¼  â†’ å›¾ç‰‡å¤„ç† â†’ GitHub API â†’ ä»“åº“æäº¤ â†’ è¿”å›é“¾æ¥
```

### é…ç½®åŒæ­¥
```
æœ¬åœ°é…ç½® â†’ ä¿å­˜åˆ° GitHub â†’ äº‘ç«¯åŒæ­¥ â†’ å¤šè®¾å¤‡å…±äº«
```

## ğŸ“– æ–‡æ¡£è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `REFACTORING_PLAN.md` | å®Œæ•´é‡æ„è§„åˆ’å’Œè¿›åº¦ |
| `BUILD_SUMMARY.md` | æ„å»ºè¯¦æƒ…å’ŒæŠ€æœ¯æ ˆ |
| `DEPLOYMENT_GUIDE.md` | ç”Ÿäº§éƒ¨ç½²æŒ‡å— |
| `START_HERE.md` | æœ¬æ–‡ä»¶ - å¿«é€Ÿå¼€å§‹ |

## ğŸ› é—®é¢˜æ’æŸ¥

### é—®é¢˜: "Cannot find module"
```bash
pnpm install
pnpm build
```

### é—®é¢˜: "OAuth callback error"
æ£€æŸ¥ `.env` ä¸­çš„ GitHub Client ID å’Œ Secret

### é—®é¢˜: "Build failed"
```bash
rm -rf .nuxt .output node_modules/.cache
pnpm install
pnpm build
```

## ğŸ¨ é¡µé¢é¢„è§ˆ

1. **ç™»å½•é¡µ** - GitHub OAuth å…¥å£
2. **é¦–é¡µ** - æ¬¢è¿å’ŒåŠŸèƒ½ä»‹ç»
3. **é…ç½®é¡µ** - ä»“åº“/åˆ†æ”¯/ç›®å½•è®¾ç½®
4. **ä¸Šä¼ é¡µ** - æ‹–æ‹½ä¸Šä¼  + é¢„è§ˆ
5. **ç®¡ç†é¡µ** - æ–‡ä»¶åˆ—è¡¨ + æ“ä½œ
6. **è®¾ç½®é¡µ** - ä¸»é¢˜/è¯­è¨€/å¤‡ä»½
7. **å·¥å…·ç®±** - å®ç”¨å·¥å…·é›†åˆ

## ğŸš€ ä¸‹ä¸€æ­¥

1. âœ… é…ç½® `.env` æ–‡ä»¶
2. âœ… å¯åŠ¨å¼€å‘æœåŠ¡å™¨
3. âœ… æµ‹è¯• GitHub ç™»å½•
4. âœ… é…ç½®ä½ çš„ä»“åº“
5. âœ… ä¸Šä¼ ç¬¬ä¸€å¼ å›¾ç‰‡
6. â³ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

## ğŸ’¡ æç¤º

- **å¼€å‘é˜¶æ®µ**: ä½¿ç”¨ `pnpm dev` å®æ—¶é¢„è§ˆ
- **æµ‹è¯•éƒ¨ç½²**: ä½¿ç”¨ `pnpm build && pnpm preview`
- **ç”Ÿäº§éƒ¨ç½²**: æŸ¥çœ‹ `DEPLOYMENT_GUIDE.md`
- **è‡ªå®šä¹‰**: ä¿®æ”¹ `nuxt.config.ts` å’Œ `locales/` æ–‡ä»¶

---

**å‡†å¤‡å¥½å¼€å§‹äº†å—ï¼Ÿ** ğŸ‰

è¿è¡Œ `pnpm dev` å¹¶è®¿é—® http://localhost:3000
